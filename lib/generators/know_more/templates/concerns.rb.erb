module KnowMore
  # this module is used to define the functions
  # that will actually run in the KnowMore/QuestionnaireController
  module QuestionnaireControllerConcerns
    def self.included(base)
      # define the behaviour when included
      base.before_action :set_questionnaire
    end

    # _stepN function will be called by questionnaire#stepN
  <% KnowMore.config.pages.times do |n| %>
    def _step<%= n+1 %>
    end

    def _step<%= n+1 %>_update
    end
  <% end %>
    private
    def set_questionnaire
      @questionnaire = current_questionnaire
    end
  end
end
